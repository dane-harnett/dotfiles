How to setup computer to use nix+nix-darwin

Install nix

sh <(curl -L https://nixos.org/nix/install)




Command to initialise a new flake

nix flake init -t nix-darwin --extra-experimental-features "nix-command flakes"





First time building flake

nix run nix-darwin --extra-experimental-features "nix-command flakes" -- switch --flake "$(readlink -f ~/.config/nix)#personal-m4mbp"



Rebuilding flake

darwin-rebuild switch --flake "$(readlink -f ~/.config/nix)#personal-m4mbp"

